{"version":3,"sources":["images/logo.svg","contexts/CurrentUserContext.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Header.js","components/Footer.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","CurrentUserContext","React","createContext","PopupWithForm","_ref","name","buttonText","title","children","isOpen","onClose","onSubmit","createElement","className","concat","type","onClick","noValidate","EditProfilePopup","onUpdateUser","onLoading","currentUser","useContext","_useState","useState","_useState2","_slicedToArray","about","setAbout","_useState3","_useState4","setName","useEffect","e","preventDefault","id","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","avatar","ref","AddPlacePopup","onAddPlace","placeName","setPlaceName","placeLink","setPlaceLink","link","Header","src","logoPath","alt","Footer","Card","card","onCardLike","onCardDelete","onCardClick","isLiked","likes","some","user","_id","isOwn","owner","cardLikeButtonClassName","deleteButtonClassName","length","Main","cards","onEditProfile","onEditAvatar","aria-label","map","key","ImagePopup","api","Api","options","_classCallCheck","this","_options","_url","baseUrl","_headers","headers","_createClass","res","ok","json","Promise","reject","status","_this","fetch","method","then","_handleOriginalResponse","data","_this2","body","JSON","stringify","cardId","_this3","_this4","_this5","forms","_this6","_this7","authorization","Content-Type","App","_React$useState","_React$useState2","isEditProfilePopupOpen","setIsEditProfilePopupOpen","_React$useState3","_React$useState4","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","_React$useState5","_React$useState6","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_React$useState7","_React$useState8","selectedCard","setSelectedCard","setCurrentUser","isLoading","setIsLoading","_useState5","_useState6","setCards","closeAllPopups","getUserInfo","profileInfo","catch","err","console","log","getCards","Provider","deleteCard","state","filter","item","setLike","newCard","setCard","_toConsumableArray","finally","newUserInfo","setUserInfo","newAvatar","setUserAvatar","reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"gGAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,mICIzBC,EAFYC,IAAMC,cAAc,IC2BhCC,MA3Bf,SAAsBC,GAAmE,IAAhEC,EAAID,EAAJC,KAAMC,EAAUF,EAAVE,WAAYC,EAAKH,EAALG,MAAOC,EAAQJ,EAARI,SAAUC,EAAML,EAANK,OAAQC,EAAON,EAAPM,QAASC,EAAQP,EAARO,SAC3E,OACEV,IAAAW,cAAA,OAAKC,UAAS,eAAAC,OAAiBT,EAAI,KAAAS,OAAIL,EAAS,eAAiB,KAC/DR,IAAAW,cAAA,OAAKC,UAAS,oBACZZ,IAAAW,cAAA,UACEC,UAAS,6BAETE,KAAK,SACLC,QAASN,IAEXT,IAAAW,cAAA,QACEC,UAAS,2BAAAC,OAA6BT,GACtCA,KAAMA,EACNM,SAAUA,EACVM,YAAU,GAEVhB,IAAAW,cAAA,MAAIC,UAAS,iCAAAC,OAAmCT,IAC7CE,GAEFC,EACDP,IAAAW,cAAA,UAAQC,UAAU,qBAAqBE,KAAK,UAAUT,OCiDjDY,MAnEf,SAAyBd,GAA+C,IAA5CM,EAAON,EAAPM,QAASS,EAAYf,EAAZe,aAAcC,EAAShB,EAATgB,UAAWX,EAAML,EAANK,OAEpDY,EAAcpB,IAAMqB,WAAWtB,GAAoBuB,EAE/BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GAAAI,EACEL,mBAAS,IAAGM,EAAAJ,YAAAG,EAAA,GAA7BxB,EAAIyB,EAAA,GAAEC,EAAOD,EAAA,GAwBpB,OAtBAE,oBAAU,WACND,EAAQV,EAAYhB,MAAQ,IAC5BuB,EAASP,EAAYM,OAAS,KAC/B,CAACN,EAAaZ,IAqBbR,IAAAW,cAACT,EAAa,CACVE,KAAK,OACLE,MAAM,4HACND,WAAYc,EAAS,wHACrBT,SAvBR,SAAsBsB,GAClBA,EAAEC,iBAEFf,EAAa,CACTd,KAAMA,EACNsB,MAAOA,KAmBPlB,OAAQA,EACRC,QAASA,GACTT,IAAAW,cAAA,SACIC,UAAU,sCACVsB,GAAG,aACHpB,KAAK,OACLV,KAAK,OACL+B,YAAY,qBACZC,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,MAAOnC,GAAQ,GACfoC,SA3BZ,SAA0BR,GACtBF,EAAQE,EAAES,OAAOF,UA4BbvC,IAAAW,cAAA,QAAMC,UAAU,wCAChBZ,IAAAW,cAAA,SACIC,UAAU,qCACVsB,GAAG,YACHpB,KAAK,OACLV,KAAK,QACL+B,YAAY,kCACZC,UAAU,IACVC,UAAU,MACVC,UAAQ,EACRC,MAAOb,GAAS,GAChBc,SApCZ,SAA2BR,GACvBL,EAASK,EAAES,OAAOF,UAqCdvC,IAAAW,cAAA,QAAMC,UAAU,yCCvBb8B,MAzCf,SAAwBvC,GAAiD,IAA9CgB,EAAShB,EAATgB,UAAWV,EAAON,EAAPM,QAASkC,EAAcxC,EAAdwC,eAAgBnC,EAAML,EAANK,OACrDoC,EAAY5C,IAAM6C,OAAO,MAkB/B,OAhBA7C,IAAM+B,UAAU,WACZa,EAAUE,QAAQP,MAAQ,IAC3B,CAAC/B,IAeAR,IAAAW,cAACT,EAAa,CACVE,KAAK,SACLE,MAAM,wFACND,WAAYc,EAAS,wHACrBT,SAjBR,SAAsBsB,GAClBA,EAAEC,iBAEFU,EAAe,CACXI,OAAQH,EAAUE,QAAQP,SAc1B/B,OAAQA,EACRC,QAASA,GACTT,IAAAW,cAAA,SACIC,UAAU,wCACVsB,GAAG,eACHpB,KAAK,MACLV,KAAK,SACL+B,YAAY,yFACZG,UAAQ,EACRE,SAnBZ,WACI,OAAOI,EAAUE,QAAQP,OAmBjBS,IAAKJ,IAET5C,IAAAW,cAAA,QAAMC,UAAU,4CCyBbqC,MA9Df,SAAsB9C,GAA6C,IAA1CM,EAAON,EAAPM,QAASyC,EAAU/C,EAAV+C,WAAY/B,EAAShB,EAATgB,UAAWX,EAAML,EAANK,OAAMc,EAC3BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAvC6B,EAAS3B,EAAA,GAAE4B,EAAY5B,EAAA,GAAAI,EACIL,mBAAS,IAAGM,EAAAJ,YAAAG,EAAA,GAAvCyB,EAASxB,EAAA,GAAEyB,EAAYzB,EAAA,GAuB9B,OArBAE,oBAAU,WACNqB,EAAa,IACbE,EAAa,KACd,CAAC9C,IAmBFR,IAAAW,cAACT,EAAa,CACZE,KAAK,MACLE,MAAM,gEACND,WAAYc,EAAS,4GACrBT,SArBJ,SAAsBsB,GAClBA,EAAEC,iBACFiB,EAAW,CACT9C,KAAM+C,EACNI,KAAMF,KAkBR5C,QAASA,EACTD,OAAQA,GACRR,IAAAW,cAAA,SACIC,UAAU,uCACVsB,GAAG,cACHpB,KAAK,OACLqB,YAAY,mDACZ/B,KAAK,OACLgC,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,MAAOY,EACPX,SA1BR,SAA+BR,GAC7BoB,EAAapB,EAAES,OAAOF,UA2BpBvC,IAAAW,cAAA,QAAMC,UAAU,yCACdZ,IAAAW,cAAA,SACEC,UAAU,sCACVsB,GAAG,aACHpB,KAAK,MACLqB,YAAY,qGACZ/B,KAAK,OACLkC,UAAQ,EACRC,MAAOc,EACPb,SAjCR,SAA+BR,GAC7BsB,EAAatB,EAAES,OAAOF,UAkClBvC,IAAAW,cAAA,QAAMC,UAAU,0DC7CT4C,MAXf,WACE,OACExD,IAAAW,cAAA,UAAQC,UAAU,UAChBZ,IAAAW,cAAA,OACEC,UAAU,eACV6C,IAAKC,IACLC,IAAI,gFCCGC,MAPf,WACE,OACE5D,IAAAW,cAAA,UAAQC,UAAU,UAChBZ,IAAAW,cAAA,KAAGC,UAAU,iBAAgB,4BC2CpBiD,MA7Cf,SAAa1D,GAAkD,IAA/C2D,EAAI3D,EAAJ2D,KAAMC,EAAU5D,EAAV4D,WAAYC,EAAY7D,EAAZ6D,aAAcC,EAAW9D,EAAX8D,YAExC7C,EAAcC,qBAAWtB,GACzBmE,EAAUJ,EAAKK,MAAMC,KAAK,SAAAC,GAAI,OAAIA,EAAKC,MAAQlD,EAAYkD,MAC3DC,EAAQT,EAAKU,MAAMF,MAAQlD,EAAYkD,IAEvCG,EAAuB,wBAAA5D,OAA2BqD,EAAU,iCAAmC,IAC/FQ,EAAqB,0BAAA7D,OAA6B0D,EAAQ,mCAAqC,IAcrG,OACEvE,IAAAW,cAAA,WAASC,UAAU,WACjBZ,IAAAW,cAAA,OAAKC,UAAU,eACb+C,IAAKG,EAAK1D,KACVqD,IAAKK,EAAKP,KACVxC,QAjBN,WACEkD,EAAYH,MAiBTS,GAAQvE,IAAAW,cAAA,UACPC,UAAW8D,EACX5D,KAAK,SACLC,QAjBN,WACEiD,EAAaF,MAiBX9D,IAAAW,cAAA,OAAKC,UAAU,iBACbZ,IAAAW,cAAA,MAAIC,UAAU,kBAAkBkD,EAAK1D,MACrCJ,IAAAW,cAAA,OAAKC,UAAU,2BACbZ,IAAAW,cAAA,UACAC,UAAW6D,EACX3D,KAAK,SACLC,QApBR,WACEgD,EAAWD,MAoBL9D,IAAAW,cAAA,QAAMC,UAAU,uBAAuBkD,EAAKK,MAAMQ,YCe7CC,MApDf,SAAazE,GAA4F,IAAzF0E,EAAK1E,EAAL0E,MAAOC,EAAa3E,EAAb2E,cAAeC,EAAY5E,EAAZ4E,aAAc7B,EAAU/C,EAAV+C,WAAYe,EAAW9D,EAAX8D,YAAaF,EAAU5D,EAAV4D,WAAYC,EAAY7D,EAAZ6D,aACjF5C,EAAcpB,IAAMqB,WAAWtB,GAErC,OAEEC,IAAAW,cAAA,QAAMC,UAAU,QACdZ,IAAAW,cAAA,WAASC,UAAU,WACjBZ,IAAAW,cAAA,OAAKC,UAAU,iBACbZ,IAAAW,cAAA,OACEC,UAAU,kBACV6C,IAAKrC,EAAY2B,OACjBY,IAAI,yCAEN3D,IAAAW,cAAA,UACEC,UAAU,yBACVE,KAAK,SACLC,QAAS,WACPgE,GAAa,OAGnB/E,IAAAW,cAAA,OAAKC,UAAU,iBACbZ,IAAAW,cAAA,MAAIC,UAAU,kBAAkBQ,EAAYhB,MAC5CJ,IAAAW,cAAA,UACEC,UAAU,8BACVE,KAAK,SACLC,QAAS,WACP+D,GAAc,MAElB9E,IAAAW,cAAA,MAAIC,UAAU,qBAAqBQ,EAAYM,QAEjD1B,IAAAW,cAAA,UACEC,UAAU,6BACVE,KAAK,SACLC,QAAS,WACPmC,GAAW,OAGjBlD,IAAAW,cAAA,WAASC,UAAU,WAAWoE,aAAW,4EAEtCH,EAAMI,IAAI,SAACnB,GAAI,OACd9D,IAAAW,cAACkD,EAAI,CACHC,KAAMA,EACNoB,IAAKpB,EAAKQ,IACVN,aAAcA,EACdC,YAAaA,EACbF,WAAYA,SCjCToB,MAff,SAAmBhF,GAAoB,IAAjB2D,EAAI3D,EAAJ2D,KAAMrD,EAAON,EAAPM,QAC1B,OACET,IAAAW,cAAA,OAAKC,UAAS,0BAAAC,OAA4BiD,EAAKP,KAAO,eAAiB,KACrEvD,IAAAW,cAAA,OAAKC,UAAU,yBACbZ,IAAAW,cAAA,UACEC,UAAU,uDACVE,KAAK,SACLC,QAASN,IAEXT,IAAAW,cAAA,OAAKC,UAAU,kBAAkB6C,IAAKK,EAAKP,KAAMI,IAAKG,EAAK1D,OAC3DJ,IAAAW,cAAA,MAAIC,UAAU,qBAAqBkD,EAAK1D,uBC2EjCgF,EARH,IA/EH,WACP,SAAAC,EAAYC,GAASC,YAAAC,KAAAH,GACnBG,KAAKC,SAAWH,EAChBE,KAAKE,KAAOJ,EAAQK,QACpBH,KAAKI,SAAWN,EAAQO,QAwEzB,OAvEAC,YAAAT,EAAA,EAAAH,IAAA,0BAAA3C,MAAA,SACuBwD,GACtB,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAM,UAAAtF,OAAWkF,EAAIK,WAGtC,CAAAlB,IAAA,WAAA3C,MAAA,WACW,IAAA8D,EAAAb,KACT,OAAOc,MAAK,GAAAzF,OAAI2E,KAAKE,KAAI,UAAU,CACjCa,OAAQ,MACRV,QAASL,KAAKI,WACbY,KAAK,SAAAT,GAAG,OAAIM,EAAKI,wBAAwBV,OAG9C,CAAAb,IAAA,UAAA3C,MAAA,SACQmE,GAAM,IAAAC,EAAAnB,KACZ,OAAOc,MAAK,GAAAzF,OAAI2E,KAAKE,KAAI,UAAU,CACjCa,OAAQ,OACRV,QAASL,KAAKI,SACdgB,KAAMC,KAAKC,UAAU,CACnB1G,KAAMsG,EAAKtG,KACXmD,KAAMmD,EAAKnD,SAEZiD,KAAK,SAAAT,GAAG,OAAIY,EAAKF,wBAAwBV,OAG9C,CAAAb,IAAA,UAAA3C,MAAA,SACQwE,EAAQ7C,GAAS,IAAA8C,EAAAxB,KACvB,OAAOc,MAAK,GAAAzF,OAAI2E,KAAKE,KAAI,WAAA7E,OAAUkG,EAAM,UAAU,CACjDR,OAAM,GAAA1F,OAAKqD,EAAU,MAAQ,UAC7B2B,QAASL,KAAKI,WACbY,KAAK,SAAAT,GAAG,OAAIiB,EAAKP,wBAAwBV,OAG9C,CAAAb,IAAA,aAAA3C,MAAA,SACWwE,GAAQ,IAAAE,EAAAzB,KACjB,OAAOc,MAAK,GAAAzF,OAAI2E,KAAKE,KAAI,WAAA7E,OAAUkG,GAAU,CAC3CR,OAAQ,SACRV,QAASL,KAAKI,WAEbY,KAAK,SAAAT,GAAG,OAAIkB,EAAKR,wBAAwBV,OAG9C,CAAAb,IAAA,cAAA3C,MAAA,WACc,IAAA2E,EAAA1B,KACZ,OAAOc,MAAK,GAAAzF,OAAI2E,KAAKE,KAAI,aAAa,CACpCa,OAAQ,MACRV,QAASL,KAAKI,WACbY,KAAK,SAAAT,GAAG,OAAImB,EAAKT,wBAAwBV,OAG9C,CAAAb,IAAA,cAAA3C,MAAA,SACY4E,GAAO,IAAAC,EAAA5B,KACjB,OAAOc,MAAK,GAAAzF,OAAI2E,KAAKE,KAAI,aAAa,CACpCa,OAAQ,QACRV,QAASL,KAAKI,SACdgB,KAAMC,KAAKC,UAAUK,KACpBX,KAAK,SAAAT,GAAG,OAAIqB,EAAKX,wBAAwBV,OAG9C,CAAAb,IAAA,gBAAA3C,MAAA,SACcmE,GAAM,IAAAW,EAAA7B,KAClB,OAAOc,MAAK,GAAAzF,OAAI2E,KAAKE,KAAI,oBAAoB,CAC3Ca,OAAQ,QACRV,QAASL,KAAKI,SACdgB,KAAMC,KAAKC,UAAU,CACnB/D,OAAQ2D,EAAK3D,WAEdyD,KAAK,SAAAT,GAAG,OAAIsB,EAAKZ,wBAAwBV,SAC7CV,EA5EM,GA+EG,CAAQ,CAClBM,QAAO,8CACPE,QAAS,CACPyB,cAAe,uCACfC,eAAgB,sBCkELC,MAvIf,WAAe,IAAAC,EAE+CzH,IAAMuB,UAAS,GAAMmG,EAAAjG,YAAAgG,EAAA,GAA1EE,EAAsBD,EAAA,GAAEE,EAAyBF,EAAA,GAAAG,EACE7H,IAAMuB,UAAS,GAAMuG,EAAArG,YAAAoG,EAAA,GAAxEE,EAAqBD,EAAA,GAAEE,EAAwBF,EAAA,GAAAG,EACAjI,IAAMuB,UAAS,GAAM2G,EAAAzG,YAAAwG,EAAA,GAApEE,EAAmBD,EAAA,GAAEE,EAAsBF,EAAA,GAAAG,EACVrI,IAAMuB,SAAS,IAAG+G,EAAA7G,YAAA4G,EAAA,GAAnDE,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAAAhH,EACEC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA3CF,EAAWI,EAAA,GAAEiH,EAAcjH,EAAA,GAAAI,EACAL,oBAAS,GAAMM,EAAAJ,YAAAG,EAAA,GAA1C8G,EAAS7G,EAAA,GAAE8G,EAAY9G,EAAA,GAAA+G,EACJrH,mBAAS,IAAGsH,EAAApH,YAAAmH,EAAA,GAA/B/D,EAAKgE,EAAA,GAAEC,EAAQD,EAAA,GAmBtB,SAASE,IACPnB,GAA0B,GAC1BI,GAAyB,GACzBI,GAAuB,GACvBI,EAAgB,IAmDlB,OAxEAzG,oBAAU,WACRqD,EAAI4D,cACDxC,KAAK,SAAAyC,GAAW,OAAIR,EAAeQ,KACnCC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KAE5B/D,EAAIkE,WAAW9C,KAAK,SAAAE,GAClBoC,EAASpC,EAAKzB,IAAI,SAACnB,GAAI,MAAM,CAC3BQ,IAAKR,EAAKQ,IACVlE,KAAM0D,EAAK1D,KACXmD,KAAMO,EAAKP,KACXY,MAAOL,EAAKK,MACZK,MAAOV,EAAKU,YAGb0E,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAC3B,IA0DDnJ,IAAAW,cAACZ,EAAmBwJ,SAAQ,CAAChH,MAAOnB,GAClCpB,IAAAW,cAAA,OAAKC,UAAU,QACbZ,IAAAW,cAAC6C,EAAM,MACPxD,IAAAW,cAACiE,EAAI,CACHE,cAAe8C,EACf7C,aAAciD,EACd9E,WAAYkF,EACZnE,YAAauE,EACbxE,aAfR,SAA0BF,GACxBsB,EAAIoE,WAAW1F,EAAKQ,KACjBkC,KAAK,kBAAMsC,EAAS,SAAAW,GAAK,OAAIA,EAAMC,OAAO,SAAAC,GAAI,OAAIA,EAAKrF,MAAQR,EAAKQ,UACpE4E,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAatBpF,WAzBR,SAAwBD,GAEtB,IAAMI,EAAUJ,EAAKK,MAAMC,KAAK,SAAAC,GAAI,OAAIA,EAAKC,MAAQlD,EAAYkD,MAEjEc,EAAIwE,QAAQ9F,EAAKQ,KAAMJ,GACpBsC,KAAK,SAAAqD,GAAO,OAAIf,EAAS,SAACW,GAAK,OAAKA,EAAMxE,IAAI,SAAC0E,GAAI,OAAKA,EAAKrF,MAAQR,EAAKQ,IAAMuF,EAAUF,QAC1FT,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAoBtBtE,MAAOA,IAET7E,IAAAW,cAACiD,EAAM,MACP5D,IAAAW,cAACsC,EAAa,CACZC,WAzCR,SAA8BwD,GAC5BiC,GAAa,GACbvD,EAAI0E,QAAQpD,GACTF,KAAK,SAAAqD,GACJf,EAAQ,CAAEe,GAAOhJ,OAAAkJ,YAAKlF,KACtBkE,MAEDG,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KACzBa,QAAQ,kBAAMrB,GAAa,MAkCxBnI,OAAQ2H,EACR1H,QAASsI,EACT5H,UAAWuH,IAGb1I,IAAAW,cAACM,EAAgB,CACfT,OAAQmH,EACRzG,aA5DR,SAA0B+I,GACxBtB,GAAa,GACbvD,EAAI8E,YAAYD,GACbzD,KAAK,SAAAE,GACJ+B,EAAe/B,GACfqC,MAEDG,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KACzBa,QAAQ,kBAAMrB,GAAa,MAqDxBlI,QAASsI,EACT5H,UAAWuH,IAGb1I,IAAAW,cAAC+B,EAAe,CACdC,eA7ER,SAA4BwH,GAC1BxB,GAAa,GACbvD,EAAIgF,cAAcD,GACf3D,KAAK,SAAAE,GACJ+B,EAAe/B,GACfqC,MAEDG,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KACzBa,QAAQ,kBAAMrB,GAAa,MAsExBnI,OAAQuH,EACRtH,QAASsI,EACT5H,UAAWuH,IAKb1I,IAAAW,cAACwE,EAAU,CACXrB,KAAMyE,EACN9H,QAASsI,IAIT/I,IAAAW,cAACT,EAAa,CACZE,KAAK,UACLE,MAAM,2DACND,WAAW,oBClINgK,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC1K,EAAAmC,EAAA,GAAAwE,KAAA3G,EAAA2K,KAAA,UAAqBhE,KAAK,SAAArG,GAAiD,IAA9CsK,EAAMtK,EAANsK,OAAQC,EAAMvK,EAANuK,OAAQC,EAAMxK,EAANwK,OAAQC,EAAMzK,EAANyK,OAAQC,EAAO1K,EAAP0K,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,MCDDQ,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACHlL,IAAAW,cAACX,IAAMmL,WAAU,KACfnL,IAAAW,cAAC6G,EAAG,QAGR6C","file":"static/js/main.8e127854.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.7baba3c1.svg\";","import React from 'react';\n\nconst CurrentUserContext = React.createContext('');\n\nexport default CurrentUserContext;","import React from 'react';\n\nfunction PopupWithForm({ name, buttonText, title, children, isOpen, onClose, onSubmit }) {\n  return (\n    <div className={`popup popup-${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className={`popup__container`}>\n        <button\n          className={`popup__button-close button`}\n      \n          type=\"button\"\n          onClick={onClose}\n        />\n        <form\n          className={`popup__form popup__form-${name}`}\n          name={name}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          <h4 className={`popup__profile popup__profile-${name}`}>\n            {title}\n          </h4>\n          {children}\n          <button className=\"popup__button-save\" type=\"submit\">{buttonText}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;","import React, { useState, useEffect } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({ onClose, onUpdateUser, onLoading, isOpen }) {\n//подписка на контекст\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [about, setAbout] = useState('');\n    const [name, setName] = useState('');\n\n    useEffect(() => {\n        setName(currentUser.name || \"\");\n        setAbout(currentUser.about || \"\");\n    }, [currentUser, isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n// передаем значения управляемых компонентов во внешний обработчик\n        onUpdateUser({\n            name: name,\n            about: about,\n        });\n    }\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeAbout(e) {\n        setAbout(e.target.value);\n    }\n\n    return (\n        \n        <PopupWithForm\n            name=\"edit\"\n            title=\"Редактировать профиль\"\n            buttonText={onLoading ? `Сохранение` : `Сохранить`}\n            onSubmit={handleSubmit}\n            isOpen={isOpen}\n            onClose={onClose}>\n            <input\n                className=\"popup__input popup__input_type_name\"\n                id=\"name-input\"\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Имя\"\n                minLength=\"2\"\n                maxLength=\"40\"\n                required\n                value={name || \"\"}\n                onChange={handleChangeName}\n            />\n            <span className=\"popup__input-error name-input-error\" />\n            <input\n                className=\"popup__input popup__input_type_job\"\n                id=\"job-input\"\n                type=\"text\"\n                name=\"about\"\n                placeholder=\"О себе\"\n                minLength=\"2\"\n                maxLength=\"200\"\n                required\n                value={about || \"\"}\n                onChange={handleChangeAbout}\n            />\n            <span className=\"popup__input-error job-input-error\" />\n        </PopupWithForm>\n    )\n}\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ onLoading, onClose, onUpdateAvatar, isOpen }) {\n    const avatarRef = React.useRef(null);\n\n    React.useEffect(() => {\n        avatarRef.current.value = \"\";\n    }, [isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onUpdateAvatar({\n            avatar: avatarRef.current.value\n        });\n    }\n\n    function handleChangeAvatar() {\n        return avatarRef.current.value;\n    }\n    \n    return (\n        <PopupWithForm\n            name=\"avatar\"\n            title=\"Обновить аватар\"\n            buttonText={onLoading ? `Сохранение` : `Сохранить`}\n            onSubmit={handleSubmit}\n            isOpen={isOpen}\n            onClose={onClose}>\n            <input\n                className=\"popup__input popup__input_type_avatar\"\n                id=\"avatar-input\"\n                type=\"url\"\n                name=\"avatar\"\n                placeholder=\"Ссылка на аватар\"\n                required\n                onChange={handleChangeAvatar}\n                ref={avatarRef}\n            />\n            <span className=\"popup__input-error avatar-input-error\" />\n        </PopupWithForm>\n    )\n}\nexport default EditAvatarPopup;","import React, { useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ onClose, onAddPlace, onLoading, isOpen }) {\n  const [placeName, setPlaceName] = useState('');\n  const [placeLink, setPlaceLink] = useState('');\n\n  useEffect(() => {\n      setPlaceName('');\n      setPlaceLink('');\n  }, [isOpen]);\n\n  function handleSubmit(e) {\n      e.preventDefault();\n      onAddPlace({\n        name: placeName,\n        link: placeLink,\n    });\n  }\n\n  function handleChangePlaceName(e) {\n    setPlaceName(e.target.value);\n  }\n\n  function handleChangePlaceLink(e) {\n    setPlaceLink(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"Новое место\"\n      buttonText={onLoading ? `Сохранение` : `Создать`}\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      isOpen={isOpen}>\n      <input\n          className=\"popup__input popup__input_type_place\"\n          id=\"place-input\"\n          type=\"text\"\n          placeholder=\"Название\"\n          name=\"name\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          required\n          value={placeName}\n          onChange={handleChangePlaceName}\n      />\n      <span className=\"popup__input-error place-input-error\" />\n        <input\n          className=\"popup__input popup__input_type_link\"\n          id=\"link-input\"\n          type=\"url\"\n          placeholder=\"Ссылка на картинку\"\n          name=\"link\"\n          required\n          value={placeLink}\n          onChange={handleChangePlaceLink}\n      />\n        <span className=\"popup__input-error link-input-error\" />\n\n    </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from \"react\";\nimport logoPath from '../images/logo.svg'\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img\n        className=\"header__logo\"\n        src={logoPath}\n        alt=\"логотип место\"\n      />\n    </header>\n  );\n}\nexport default Header;","import React from \"react\";\n\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__autor\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\nexport default Footer;","import React from 'react';\nimport { useContext } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardLike, onCardDelete, onCardClick }) {\n\n  const currentUser = useContext(CurrentUserContext);\n  const isLiked = card.likes.some(user => user._id === currentUser._id);\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardLikeButtonClassName = `element__button-like ${isLiked ? 'element__button-like_is-active' : ''}`;\n  const deleteButtonClassName = `element__button-delete ${isOwn ? 'element__button-delete_is-active' : ''}`;\n\n  function handleCardClick() {\n    onCardClick(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  return (\n    <article className=\"element\">\n      <img className=\"element__img\"\n        alt={card.name}\n        src={card.link}\n        onClick={handleCardClick} />\n      {isOwn &&<button\n        className={deleteButtonClassName}\n        type=\"button\"\n        onClick={handleDeleteClick} />}\n      <div className=\"element__info\">\n        <h3 className=\"element__title\">{card.name}</h3>\n        <div className=\"element__like-container\">\n          <button\n          className={cardLikeButtonClassName}\n          type=\"button\"\n          onClick={handleLikeClick} />\n          <span className=\"element__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n    </article>\n  )\n}\n\nexport default Card;","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\n\nfunction Main({ cards, onEditProfile, onEditAvatar, onAddPlace, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__card\">\n          <img\n            className=\"profile__avatar\"\n            src={currentUser.avatar}\n            alt=\"аватар\"\n          />\n          <button\n            className=\"profile__avatar-button\"\n            type=\"button\"\n            onClick={() => {\n              onEditAvatar(true)\n            }} />\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <button\n            className=\"profile__button-edit button\"\n            type=\"button\"\n            onClick={() => {\n              onEditProfile(true)\n            }} />\n          <h2 className=\"profile__subtitle\">{currentUser.about}</h2>\n        </div>\n        <button\n          className=\"profile__button-add button\"\n          type=\"button\"\n          onClick={() => {\n            onAddPlace(true)\n          }} />\n      </section>\n      <section className=\"elements\" aria-label=\"Фотокарточки\">\n\n        {cards.map((card) => (\n          <Card\n            card={card}\n            key={card._id}\n            onCardDelete={onCardDelete}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike} />\n        ))}\n\n      </section>\n    </main>\n  );\n}\nexport default Main;","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup popup_photo-card ${card.link ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container-card\">\n        <button\n          className=\"popup__button-close button popup__button-close-photo\"\n          type=\"button\"\n          onClick={onClose}\n        />\n        <img className=\"popup__img-card\" src={card.link} alt={card.name} />\n        <h4 className=\"popup__title-card\">{card.name}</h4>\n      </div>\n    </div>\n  )\n}\nexport default ImagePopup;","class Api {\n  constructor(options) {\n    this._options = options;\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n  _handleOriginalResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status}`);\n  }\n\n  // Получение карточек с сервера\n  getCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(res => this._handleOriginalResponse(res))\n  }\n\n  // Добавление новой карточки через попап\n  setCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then(res => this._handleOriginalResponse(res))\n  }\n\n  // Ставим лайк карточке\n  setLike(cardId, isLiked) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\n      headers: this._headers,\n    }).then(res => this._handleOriginalResponse(res))\n  }\n\n  // Удаление карточки\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(res => this._handleOriginalResponse(res));\n  }\n\n  // Получение информации о пользователе с сервера\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(res => this._handleOriginalResponse(res))\n  }\n\n  // Редактирование информации о пользователе через попап\n  setUserInfo(forms) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(forms)\n    }).then(res => this._handleOriginalResponse(res))\n  }\n\n  // Редактирование аватара пользователя через попап\n  setUserAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(res => this._handleOriginalResponse(res));\n  }\n}\n\nconst api = new Api({\n  baseUrl: `https://mesto.nomoreparties.co/v1/cohort-59`,\n  headers: {\n    authorization: 'f7e16f72-6fdb-4cb4-9e4c-1f17e80e3d75',\n    \"Content-Type\": \"application/json\",\n  }\n})\n\nexport default api;","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport api from \"../utils/api\";\n\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then(profileInfo => setCurrentUser(profileInfo))\n      .catch(err => console.log(err))\n\n    api.getCards().then(data => {\n      setCards(data.map((card) => ({\n        _id: card._id,\n        name: card.name,\n        link: card.link,\n        likes: card.likes,\n        owner: card.owner\n      })))\n    })\n      .catch(err => console.log(err))\n  }, []);\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setSelectedCard({});\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    setIsLoading(true);\n    api.setUserAvatar(newAvatar)\n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err))\n      .finally(() => setIsLoading(false))\n  }\n\n  function handleUpdateUser(newUserInfo) {\n    setIsLoading(true);\n    api.setUserInfo(newUserInfo)\n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err))\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleAddPlaceSubmit(data) {\n    setIsLoading(true);\n    api.setCard(data)\n      .then(newCard => {\n        setCards([newCard, ...cards])\n        closeAllPopups();\n      })\n      .catch(err => console.log(err))\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(user => user._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.setLike(card._id, !isLiked)\n      .then(newCard => setCards((state) => state.map((item) => item._id === card._id ? newCard : item)))\n      .catch(err => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => setCards(state => state.filter(item => item._id !== card._id)))\n      .catch(err => console.log(err));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditProfile={setIsEditProfilePopupOpen}\n          onEditAvatar={setIsEditAvatarPopupOpen}\n          onAddPlace={setIsAddPlacePopupOpen}\n          onCardClick={setSelectedCard}\n          onCardDelete={handleCardDelete}\n          onCardLike={handleCardLike}\n          cards={cards} />\n\n        <Footer />\n        <AddPlacePopup\n          onAddPlace={handleAddPlaceSubmit}\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onLoading={isLoading}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onUpdateUser={handleUpdateUser}\n          onClose={closeAllPopups}\n          onLoading={isLoading}\n        />\n\n        <EditAvatarPopup\n          onUpdateAvatar={handleUpdateAvatar}\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onLoading={isLoading}\n        />\n\n        {/* popup полноразмерное фото */}\n\n        <ImagePopup\n        card={selectedCard}\n        onClose={closeAllPopups} />\n\n        {/* popup подтверждения*/}\n\n        <PopupWithForm\n          name=\"confirm\"\n          title=\"Вы уверены?\"\n          buttonText=\"Да\" />\n\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\nreportWebVitals();"],"sourceRoot":""}